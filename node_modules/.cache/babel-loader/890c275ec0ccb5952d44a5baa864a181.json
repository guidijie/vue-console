{"remainingRequest":"E:\\vscode-workspace\\vue\\myconsole\\node_modules\\babel-loader\\lib\\index.js!E:\\vscode-workspace\\vue\\myconsole\\src\\main.js","dependencies":[{"path":"E:\\vscode-workspace\\vue\\myconsole\\src\\main.js","mtime":1610349902986},{"path":"E:\\vscode-workspace\\vue\\myconsole\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vscode-workspace\\vue\\myconsole\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJFOlxcdnNjb2RlLXdvcmtzcGFjZVxcdnVlXFxteWNvbnNvbGVcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcbW9kdWxlc1xcZXMuYXJyYXkuaXRlcmF0b3IuanMiOwppbXBvcnQgIkU6XFx2c2NvZGUtd29ya3NwYWNlXFx2dWVcXG15Y29uc29sZVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxtb2R1bGVzXFxlcy5wcm9taXNlLmpzIjsKaW1wb3J0ICJFOlxcdnNjb2RlLXdvcmtzcGFjZVxcdnVlXFxteWNvbnNvbGVcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcbW9kdWxlc1xcZXMub2JqZWN0LmFzc2lnbi5qcyI7CmltcG9ydCAiRTpcXHZzY29kZS13b3Jrc3BhY2VcXHZ1ZVxcbXljb25zb2xlXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXG1vZHVsZXNcXGVzLnByb21pc2UuZmluYWxseS5qcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IEFwcCBmcm9tICcuL0FwcC52dWUnOwppbXBvcnQgJy4vcGx1Z2lucy9lbGVtZW50LmpzJzsKaW1wb3J0IHJvdXRlciBmcm9tICcuL3JvdXRlci9pbmRleCc7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7ClZ1ZS5wcm90b3R5cGUuJGh0dHAgPSBheGlvczsKVnVlLmNvbmZpZy5wcm9kdWN0aW9uVGlwID0gZmFsc2U7CmF4aW9zLmRlZmF1bHRzLndpdGhDcmVkZW50aWFscyA9IHRydWU7IC8vIGNvbnN0IHdoaXRlTGlzdCA9IFsnL2xvZ2luJ10gLy8g5LiN6YeN5a6a5ZCR55m95ZCN5Y2VCi8v5L2/55So6ZKp5a2Q5Ye95pWw5a+56Lev55Sx6L+b6KGM5p2D6ZmQ6Lez6L2sCi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycwoKcm91dGVyLmJlZm9yZUVhY2goZnVuY3Rpb24gKHRvLCBmcm9tLCBuZXh0KSB7CiAgLy/orr7nva7nvZHpobXnmoTmoIfpopgKICBkb2N1bWVudC50aXRsZSA9ICIiLmNvbmNhdCh0by5tZXRhLnRpdGxlKTsKICB2YXIgY3VzZXIgPSBbXTsKICBWdWUucHJvdG90eXBlLiRodHRwLmdldCgiaHR0cDovL2xvY2FsaG9zdDo4MDgwL2lzU2Vzc2lvbiIpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgIGN1c2VyID0gZGF0YS5kYXRhLmRhdGE7CgogICAgaWYgKGN1c2VyID09PSBudWxsKSB7CiAgICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpOwogICAgfQoKICAgIGNvbnNvbGUubG9nKGN1c2VyKTsKICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICBsb2NhbFN0b3JhZ2UuY2xlYXIoKTsKICB9KTsgLy/ojrflj5bnlKjmiLcKCiAgdmFyIHVzZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJykpOyAvL+aYr2xvZ2lu6K+35rGC5bCx5pS+6KGMCgogIGlmICh0by5wYXRoID09PSAnL2xvZ2luJykgewogICAgbmV4dCgpOwogIH0gZWxzZSBpZiAoY3VzZXIgIT09IG51bGwgJiYgdXNlciAhPT0gbnVsbCkgewogICAgLy9zZXNzaW9u5Lit5pyJ5pWw5o2u5LqG5bCx5pS+6KGMCiAgICBuZXh0KCk7CiAgfSBlbHNlIHsKICAgIC8v5LiN5pivbG9naW7or7fmsYLlsLHot7Plm55sb2dpbueVjOmdogogICAgbmV4dCgnL2xvZ2luJyk7CiAgfQp9KTsKZXhwb3J0IGRlZmF1bHQgbmV3IFZ1ZSh7CiAgcm91dGVyOiByb3V0ZXIsCiAgYXhpb3M6IGF4aW9zLAogIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHsKICAgIHJldHVybiBoKEFwcCk7CiAgfQp9KS4kbW91bnQoJyNhcHAnKTs="},{"version":3,"sources":["E:/vscode-workspace/vue/myconsole/src/main.js"],"names":["Vue","App","router","axios","prototype","$http","config","productionTip","defaults","withCredentials","beforeEach","to","from","next","document","title","meta","cuser","get","then","data","localStorage","clear","console","log","catch","user","JSON","parse","getItem","path","render","h","$mount"],"mappings":";;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,GAAP,MAAgB,WAAhB;AACA,OAAO,sBAAP;AACA,OAAOC,MAAP,MAAmB,gBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEAH,GAAG,CAACI,SAAJ,CAAcC,KAAd,GAAsBF,KAAtB;AACAH,GAAG,CAACM,MAAJ,CAAWC,aAAX,GAA2B,KAA3B;AACAJ,KAAK,CAACK,QAAN,CAAeC,eAAf,GAAiC,IAAjC,C,CAGA;AAEA;AACA;;AACAP,MAAM,CAACQ,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAClC;AACAC,EAAAA,QAAQ,CAACC,KAAT,aAAoBJ,EAAE,CAACK,IAAH,CAAQD,KAA5B;AAEA,MAAIE,KAAK,GAAG,EAAZ;AACAjB,EAAAA,GAAG,CAACI,SAAJ,CAAcC,KAAd,CAAoBa,GAApB,CAAwB,iCAAxB,EAA2DC,IAA3D,CAAgE,UAAAC,IAAI,EAAI;AACpEH,IAAAA,KAAK,GAAGG,IAAI,CAACA,IAAL,CAAUA,IAAlB;;AACA,QAAGH,KAAK,KAAK,IAAb,EAAkB;AACdI,MAAAA,YAAY,CAACC,KAAb;AACH;;AACDC,IAAAA,OAAO,CAACC,GAAR,CAAYP,KAAZ;AACH,GAND,EAMGQ,KANH,CAMS,YAAM;AACXJ,IAAAA,YAAY,CAACC,KAAb;AACH,GARD,EALkC,CAelC;;AACA,MAAII,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWP,YAAY,CAACQ,OAAb,CAAqB,MAArB,CAAX,CAAX,CAhBkC,CAiBlC;;AACA,MAAIlB,EAAE,CAACmB,IAAH,KAAY,QAAhB,EAA0B;AACtBjB,IAAAA,IAAI;AACP,GAFD,MAEO,IAAII,KAAK,KAAK,IAAV,IAAkBS,IAAI,KAAK,IAA/B,EAAqC;AACxC;AACAb,IAAAA,IAAI;AACP,GAHM,MAGA;AACH;AACAA,IAAAA,IAAI,CAAC,QAAD,CAAJ;AACH;AACJ,CA3BD;AA6BA,eAAe,IAAIb,GAAJ,CAAQ;AACnBE,EAAAA,MAAM,EAANA,MADmB;AAEnBC,EAAAA,KAAK,EAALA,KAFmB;AAGnB4B,EAAAA,MAAM,EAAE,gBAAAC,CAAC;AAAA,WAAIA,CAAC,CAAC/B,GAAD,CAAL;AAAA;AAHU,CAAR,EAIZgC,MAJY,CAIL,MAJK,CAAf","sourcesContent":["import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport './plugins/element.js'\r\nimport router from './router/index'\r\nimport axios from \"axios\";\r\n\r\nVue.prototype.$http = axios\r\nVue.config.productionTip = false\r\naxios.defaults.withCredentials = true\r\n\r\n\r\n// const whiteList = ['/login'] // 不重定向白名单\r\n\r\n//使用钩子函数对路由进行权限跳转\r\n// eslint-disable-next-line no-unused-vars\r\nrouter.beforeEach((to, from, next) => {\r\n    //设置网页的标题\r\n    document.title = `${to.meta.title}`;\r\n\r\n    let cuser = []\r\n    Vue.prototype.$http.get(\"http://localhost:8080/isSession\").then(data => {\r\n        cuser = data.data.data;\r\n        if(cuser === null){\r\n            localStorage.clear();\r\n        }\r\n        console.log(cuser)\r\n    }).catch(() => {\r\n        localStorage.clear();\r\n    })\r\n\r\n    //获取用户\r\n    let user = JSON.parse(localStorage.getItem('user'));\r\n    //是login请求就放行\r\n    if (to.path === '/login') {\r\n        next();\r\n    } else if (cuser !== null && user !== null) {\r\n        //session中有数据了就放行\r\n        next()\r\n    } else {\r\n        //不是login请求就跳回login界面\r\n        next('/login')\r\n    }\r\n});\r\n\r\nexport default new Vue({\r\n    router,\r\n    axios,\r\n    render: h => h(App),\r\n}).$mount('#app')\r\n"]}]}